---
interface Props {
  category: {
    name: string;
    slug: string;
    description?: string;
    count: number;
    image?: {
      sourceUrl: string;
      altText?: string;
    };
  };
}

const { category } = Astro.props;
---

<a 
  href={`/category/${category.slug}`}
  class="group relative overflow-hidden rounded-lg border bg-card text-card-foreground shadow-sm transition-all hover:shadow-md"
>
  <div class="aspect-[4/3] overflow-hidden bg-muted">
    {category.image ? (
      <img 
        src={category.image.sourceUrl} 
        alt={category.image.altText || category.name}
        class="h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"
      />
    ) : (
      <div class="flex h-full items-center justify-center bg-muted">
        <svg 
          class="h-12 w-12 text-muted-foreground"
          xmlns="http://www.w3.org/2000/svg" 
          fill="none" 
          viewBox="0 0 24 24" 
          stroke="currentColor"
        >
          <path 
            stroke-linecap="round" 
            stroke-linejoin="round" 
            stroke-width="1" 
            d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
          />
        </svg>
      </div>
    )}
  </div>

  <div class="p-6">
    <h2 class="text-xl font-semibold tracking-tight mb-2">
      {category.name}
    </h2>
    {category.description && (
      <p class="text-sm text-muted-foreground line-clamp-2 mb-4">
        {category.description}
      </p>
    )}
    <div class="flex items-center text-sm text-muted-foreground">
      <svg 
        class="mr-2 h-4 w-4"
        xmlns="http://www.w3.org/2000/svg" 
        fill="none" 
        viewBox="0 0 24 24" 
        stroke="currentColor"
      >
        <path 
          stroke-linecap="round" 
          stroke-linejoin="round" 
          stroke-width="2" 
          d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"
        />
      </svg>
      {category.count} {category.count === 1 ? 'Product' : 'Products'}
    </div>
  </div>

  <div class="absolute inset-0 pointer-events-none border rounded-lg opacity-0 transition-opacity group-hover:opacity-100 bg-accent/5"></div>
</a>
